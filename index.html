<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>version2</title>
<link rel="stylesheet" type="text/css" href="css/style.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/themes/smoothness/jquery-ui.css">
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/jquery-ui.min.js"></script>

</head>

<body>
    
  <!--   <div  class="ui-widget-content">h</div> -->
     <div>
    	<iframe width="100%" height="300px" frameborder='0' src="map.html"></iframe>
    </div>
  <div class='icons'>
    	
    	<img data-amenity = 'offleash' class='offleash' src='img/offleash.png' >
        <img data-amenity = 'fenced' class='fenced' src='img/fenced.png' >
        <img data-amenity = 'fountain' class= 'fountain' src='img/fountain.png'>
    	<img data-amenity = 'trail' class= 'trail' src='img/trail.png' >
        <img data-amenity = 'swim' class= 'swim' src='img/swim.png' >
    </div>
    <div class='thesearch'>
        <div class='iconspace'></div>
    	<input id='search' type='text'>
    </div>
  <input id='but' type='button' value='search'>
  
  <div class='show'>
      
      
  </div>
<script>

$(document).ready(function(){
    
   //http://api.jqueryui.com/draggable/#event-drag
   
   var offleash = false;
   var fenced = false;
   var fountain = false;
   var trail = false;
   var swim = false;
   
   var amenities = [];
 
        
console.log("amenities array", amenities)
    
  var clickin = function(){
      $('#but').click(
       
        function(){
            
            for(var i = 0; i < amenities.length; i++){
                
                
                    if(amenities[i] == true){
                        console.log(amenities[i], "I'm TRUEEE");
                    }
                
                
            }
            
            
            console.log(amenities);
        }            
    );
    
    }  
var aanimate = function(){
                
                $(ui.helper).animate({
                    
                    "width":"40px",
                    "height":"45px",
                    "opacity":"0.6",
                    
                  
                });
          
            }

var search = function(){
    
    if(offleash == true){
        
        $(".show").append('yes offleash park');
        
    } else if(fenced == true){ 
        
        $(".show").append('yes its fenced');
    } else if(fountain == true){
        
        $(".show").append('yes fountain');
    } else if(trail == true){
        
        $(".show").append('yes trail');
    } else if(swim == true){
        
        $(".show").append('yes swim');
    }
    
    
    
}
        
        
 var dragging = function(){       
        
    $('.icons img').draggable({
        drag: function( event, ui ) {
            ui.position.left = Math.min( 100, ui.position.left );
           
        },
        revert : function(event, ui) {
            
        }
        
    });

        $( ".thesearch" ).droppable({
        drop: function( event, ui ) {
           
             $(ui.helper).animate({
                    
                    "width":"40px",
                    "height":"45px",
                    "opacity":"0.6",
                    
                  
                });
            $(ui.draggable).addClass("inbox").detach().css({top: 0,left: 0}).appendTo('.iconspace');
           
           thething =$(ui.draggable);
            
            amenities.push(thething.data('amenity'));
             console.log('amenitites added something', amenities);
            
          /*  if($(ui.draggable).hasClass("offleash")){

               offleash = true; 
            } else if ($(ui.draggable).hasClass("fenced")){
                console.log('fence is true');
               fenced = true; 
            } else if($(ui.draggable).hasClass("fountain")){
                fountain = true;
            } else if($(ui.draggable).hasClass("trail")){
                trail = true;
            } else if($(ui.draggable).hasClass("swim")){
                swim = true;
            } */
            
            console.log('offleash?' + offleash);
          
            
        }, 
        
        out: function( event, ui ) {
            $(ui.helper).animate({
                    
                    "width":"50px",
                    "height":"60px",
                    "opacity":"1",
                    
                  
                });
            $(ui.draggable).removeClass("inbox").detach().css({top: 0,left: 0}).appendTo('.icons');

            inbox = false;
            
            thething =$(ui.draggable);
            amenities.splice($.inArray(thething, amenities), 1);
            
            console.log('array removed something', amenities);
          /*  if($(ui.draggable).hasClass("offleash")){

               offleash = false; 
            } else if ($(ui.draggable).hasClass("fenced")){
             
               fenced = false; 
            } else if($(ui.draggable).hasClass("fountain")){
                fountain = false;
            } else if($(ui.draggable).hasClass("trail")){
                trail = false;
            } else if($(ui.draggable).hasClass("swim")){
                swim = false;
            } 
            */
           
            
        }
        
    });
    
    
        
    }   
            
    dragging();  
   clickin();
            
    }         
);	
		
	








</script>
</body>
</html>

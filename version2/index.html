<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Untitled Document</title>
<link rel="stylesheet" type="text/css" href="css/style.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/themes/smoothness/jquery-ui.css">
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/jquery-ui.min.js"></script>

</head>

<body>
    
  <!--   <div  class="ui-widget-content">h</div> -->
     <div>
    	<iframe width="100%" height="300px" frameborder='0' src="map.html"></iframe>
    </div>
  <div class='icons'>
    	
    	<img data-amenity= 'offleash' class='offleash' src='img/offleash.png' >
        <img data-amenity= 'fenced' class='fenced' src='img/fenced.png' >
        <img data-amenity= 'fountain' src='img/fountain.png'>
    	<img data-amenity= 'trail' src='img/trail.png' >
        <img data-amenity= 'swim' src='img/swim.png' >
    </div>
    <div class='thesearch'>
        <div class='iconspace'></div>
    	<input id='search' type='text'>
    </div>
  <input id='but' type='button' value='search'>
  
  <div class='show'>
      
      
  </div>
<script>

$(document).ready(function(){
    
   //http://api.jqueryui.com/draggable/#event-drag
   
  var inbox = false;
   var offleash = false;
   var fenced = false;
   var fountain = false;
   var trail = false;
   var swim = false;
 
        

    
    $('#but').click(
       
        function(){
            
            
            
            console.log("they clicked the search button");
        }            
    );
    
     
var aanimate = function(){
                
                $(ui.helper).animate({
                    
                    "width":"40px",
                    "height":"45px",
                    "opacity":"0.6",
                    
                  
                });
                console.log($(this));
            }

var search = function(){
    
    if(offleash == true){
        
        $(".show").html('yes offleash park');
        
    } else if(offleash == false){
      $(".show").html('no offleash park');
    }
    
    
    
}
        
        
 var dragging = function(){       
        
    $('.icons img').draggable({
        drag: function( event, ui ) {
            ui.position.left = Math.min( 100, ui.position.left );
           
        },
        revert : function(event, ui) {
            
        }
        
    });
    
   /* $('.fenced').draggable({
        drag: function( event, ui ) {
            ui.position.left = Math.min( 100, ui.position.left );
        },
        revert : function(event, ui) {
        }
        
    });*/
    
    
    $( ".thesearch" ).droppable({
        drop: function( event, ui ) {
            
            console.log("they put it in the search!:");
             $(ui.helper).animate({
                    
                    "width":"40px",
                    "height":"45px",
                    "opacity":"0.6",
                    
                  
                });
            $(ui.draggable).addClass("inbox").detach().css({top: 0,left: 0}).appendTo('.iconspace');
            console.log(ui.offset);
           
            console.log(inbox);
            
            if($(ui.draggable).hasClass("offleash")){
                console.log('telllmeee');
               offleash = true; 
            } else{
               offleash = false;
            }
            
            console.log('offleash?' + offleash);
            search();
            
        }, 
        
        out: function( event, ui ) {
            $(ui.helper).animate({
                    
                    "width":"50px",
                    "height":"60px",
                    "opacity":"1",
                    
                  
                });
            $(ui.draggable).removeClass("inbox").detach().css({top: 0,left: 0}).appendTo('.icons');
            console.log(ui.offset);
            console.log("they put it out of bounds!!");
            inbox = false;
            console.log(inbox);
            
            if($(ui.draggable).hasClass("offleash")){
                console.log('telllmeee');
               offleash = false;
            } else{
               
            }
            
            console.log('offleash?' + offleash);
            search();
            
        }
        
    });
    
    
        
    }   
            
    dragging();  
   
            
    }         
);	
		
	








</script>
</body>
</html>
